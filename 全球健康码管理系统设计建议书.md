# 全球健康码管理系统设计建议书

本建议书旨在通过提出一种高效的全球健康码管理系统来提高在新型冠状病毒（或者其他上呼吸道流行性疾病）流行期间各国家和地区对于跨境流动人员的管理效率。为了达到这样的目标，我们将提出一种兼容绝大部分各国家和地区现有健康码的接口，用于实现不同国家和地区的机制不同的健康码系统之间的信息转换。与此同时，对于那些目前没有成系统的健康码的国家和地区，我们将给出若干能够高效和我们的接口对接的健康码系统方案供其选择。

## 需求分析

### 综述
在2019年到2020年新型冠状病毒全球流行的背景下，各个国家和地区都不同程度地建立了本土的感染者接触追踪系统来延缓疫病的扩散。然而，这些系统的机制和收集信息的种类都有一定的差异，难以做到直接互相兼容，这导致对跨境流动的人员的管理出现了一定的困难。于是，各国政府对于一个能够整合各个国家和地区的健康码或感染者接触追踪系统的信息的管理系统的需求日益紧迫。与此同时，一些

 建立全球健康码系统，整合现有方案，设计新方案应用于没有现有成体系健康码的国家。需求分析将分为两部分：对整合的分析和对新方案的分析

### 现有方案的整合 //TO DO

为了实现兼容性，需要各国提供的信息<br>兼容性需要从一下方面考虑：

* 语言：系统需要兼容不同语言的字符，如名字，地区的字符
* 宗教：需要考虑到部分宗教的需求，例如基督教需要每周日去教堂
* 人口密度：部分地区人口密度较大，应该采用较严格的限制措施，而人口密度小的地区则可以降低限制措施以节约成本并减少对民众生活的影响
* 经济实力：如部分人可能没有能力或者不愿意使用智能手机
* 已有标准兼容：需要能够支持对现有健康码的转换
* 是否可以及时部署：考虑到疫情需要尽快控制，解决方案应做到在最短时间内部署以避免错过最佳抑制时机
* 易扩展性：因为目前对病毒的研究还在进行中，有可能将来会需要增加更多记录属性，所以要保证数据库便于扩展

综上，建议将系统分为：

1. 能够为尚未部署地区快速部署的解决方案
2. 兼容已有系统的接口

总体而言，各国家内部具体实现应由自己分别决定，该系统的主要作用应为在公民出入境时尽量做到健康码的转换

标准接口：

​			我方标准需要成为所有现行标准的超集。在做标准转换时，现行标准属性数量应少于数据库已有数据属性数量，未			填充属性则按照最差情况填写，如：是否感染这一属性留空是，填写默认值为感染

系统结构图：

<img src="assets\graphs\system_design.jpg" alt="system_design" style="zoom: 33%;" />

来自用户的请求可以是读/写请求<br>读写请求可以分为不同的授权级别，例如：

- 级别0：只能看到密码持有人是否可以安全通过
- 级别1：只能看到有限的字段
- 级别……：
- 级别n：可以查看所有数据
- 确切的授权级别标准将在以后确定
- 不同授权等级应注明哪些值可读，哪些值可写，读写权限应进行分离

授权令牌应包括令牌持有者的详细信息：

- 注册人/公司识别码
- 授权级别
- 注册时间
- 有效期至

令牌应为

- 包含以上信息的文件
- 加密，因此令牌保留无法修改内容
- 由授权的代币分发组织分发，这些组织应由世卫组织监督和管理

所有数据流都应通过数据I / O接口[4]<br>所有数据库编辑都应通过管理界面[2]<br>用户[5]是数据请求源的统一表示，包括个人公民，政府，海关，公司等。

标准数据请求应遵循以下流程图：

<img src="assets\graphs\flowchart.jpg" alt="flowchart" style="zoom:33%;" />

### 新方案
#### 流行病学方向
根据研究，在没有合适措施的介入下，新冠肺炎的传播能力极强。早期的数据体现出，新冠的R0大约在3左右，这代表着每一个感染者平均可以再传染3个人。在这种条件下，4-7天后疫情的规模就会翻倍。由此可见，建立完善健康码系统的重要性所在。
流行病学研究指出，无论性别，年龄，所有人都有被感染的可能，所以任何和患者有过密切接触的人都是该病毒的易感人群。健康码系统一定要确保准确性，假如无法做到，那健康码的效果将会大幅下降。所以我们在数据对接时，针对无法补充的信息，将会按照最差的情况进行补充，以确保不会有“假阴性”出现。

#### 信息安全方向
保证信息安全在如今的网络时代对每个人来说都是至关重要的。个人信息隐私的泄露会导致种种严重的后果。而在健康码的应用过程中，用户的个人信息会不可避免地被收集，并有被泄露的风险。因此，我们需要确定各国人民对个人隐私泄露的接受程度，并设法把健康码系统的隐私泄露风险降到这个界限以下。
##### 研究方法
要达到上述目的，最直接的方法是进行大规模的问卷调查。但是受限于时间以及疫情的种种影响，我们无法做到进行一场样本量足够大、取样足够有代表性的问卷调查。因此，我们采用了一种间接的方式，即查阅并总结现有的、在世界范围内较为流行的应用及软件的隐私政策。这种方法看似只是间接调查，然而其好处却非常明显：
1. 可以明确各国用户对隐私暴露的接受程度的下限。对于我们研究的应用来说，如果它们的隐私政策不能满足那些对隐私保护要求最高的用户的需求，那么它们就不可能做到“流行”。
2. 避免问卷调查时因用户主观因素而产生的偏差。当我们把隐私泄露的风险及后果以问卷的形式（而不是真正使用应用程序前的近乎形式化的隐私条例的形式）直接呈现在用户面前时，我们有理由推测用户会暂时高估这些风险，并在填写时出现一定的误差。
3. 避免一些潜在的问题。在用户隐私方面，除了用户本人的感受，还有很多其他需要考虑的因素（例如各地的法律等），而我们无法保证一一充分地考虑这些问题。因此，直接参考那些已经趋于完备的方案会是个不错的选择。

于是，依照上文中提到的标准，我们选定了[Apple](https://www.apple.com/legal/privacy/en-ww/)，[PayPal](https://www.paypal.com/us/webapps/mpp/ua/privacy-full)以及[Twitter](https://twitter.com/en/privacy)的用户隐私政策来进行综合分析。

##### 现有隐私政策分析

个人信息隐私包括很多方面，诸如姓名、职业状况、住址等。我们不需要一一分析，只需要把健康码系统可能暴露的个人信息纳入考虑范围即可。根据已经完成的现有案例分析，现有健康码系统可能暴露的个人信息如下：
  - 个人邮箱、手机号码
  - 某段时间的行程
  - 健康状况
对于Apple，PayPal和Twitter的用户来说，这些信息也同样有被暴露的风险。对此，它们的相应政策如下：

###### 个人邮箱和手机号码
使用以上三种产品的时，用户在注册时会被要求提供自己的邮箱或电话号码作为必要的联系方式。以上三种产品的隐私条款中都提到了会妥善保管这些个人信息。
###### 某段时间的行程
虽然不会实时记录用户位置，但以上三种产品都有途径取得用户在某些时刻的位置信息：Twitter在取得用户同意后可以获取用户的位置；PayPal在用户使用时也有途径获取用户位置；Apple的地图应用则可以更详细地得知这些信息。同样，它们也在隐私条款中提到会妥善保管这些信息。
###### 健康状况
该信息较为特殊，只有Apple的隐私政策中提到了收集用户健康状况的相关信息：在用户填写知情同意书后，用户的健康信息将会被采集并用于科学研究。
##### 结论
从以上的分析中，我们大概可以得出以下结论：
+ 对于一般的个人信息（如邮箱等），大部分用户可以接受其在法律条款的约束下被声誉比较好的大公司采集。
+ 对于更加私密的个人信息（如健康状况等），用户也可以接受其在自身同意的情况下被采集。
#### 通用性及便利性方向
##### 智能手机普及率不足
根据美国皮尤中心在2018年的调查数据，全球绝大部分国家智能手机普及率都在80%以下，若只发行智能手机可以使用的电子版健康码，这远未达到足以满足流行病学方面需求的程度。因此，全球健康码需要一个可以通用于智能手机用户与非智能手机用户的方案。
建议的解决方案：
1. 一机多码：通过“为家人申报健康码”功能，一机多码，家人结伴出行时，由有智能手机的家庭成员代无智能手机的家庭成员出示。
2. 纸质与电子健康码并行：保留健康码普及通用前的纸质登记方式，在固定站点纸上登记信息，并打印纸质二维码供出行使用。
##### 平均硬件水平较低
据CSC Insight分析师尼尔沙哈（Neil Shah）的初步预计，美版健康码系统存在“数字鸿沟”（指不同人群拥有的信息技术差距），全球有近20亿的手机的硬件水平无法兼容美版健康码，在英国，有1/3的成年人的手机无法兼容，在印度，更是有60%-70%的人被排除在外。因此，全球健康码需要一个可以通用于不同程度硬件水平的智能手机用户的方案。
##### 部分健康码方案申报过程过于繁琐
据外媒报道，Verily公司发行的健康码系统全部填写完成需要花费20-30分钟，从创建账户、填写 COVID 许可表、进行筛查、合格后提示进行新冠测试、通过邮件接收结果这五个步骤。被美国网友吐槽：“浪费时间，毫无用处。”全球目前有部分健康码在设计申报流程时，只考虑能否满足采集到所需信息的要求，忽略了用户对于申报便利性的需求，这违背了从便利角度出发的健康码系统的初衷。因此，全球健康码需要一个可以兼顾信息采集的完整性与用户申报的便利性的方案。

## 现有健康码系统的分析
现有的健康码种类繁多，机制各异。在此我们选择其中三种来研究，分别是中国式（集中式），谷歌&苹果的方案（分散化）和纸质码方案（低硬件要求）。将其与前文的需求分析对比。
### 中国式

#### 具体机制

##### 采集信息：

1. 根据扫码点位置及手机信号位置采集用户近 14 天大概行程

2. 采集消费记录地点信息，如买药记录，火车飞机票记录等

3. 采集用户个人申报信息及所在单位自主申报信息

##### 作出分类：

1. 类别：根据所采集信息分为三类三种颜色：绿色→健康；黄色→欠佳；红色→危险

2. 分类方式：根据所在以及所经过地区防控危险等级、所经过场所是否有确诊患者同时进入以及自主申报的信息综合判断

3. 区别对待：绿码可自由出行；黄码需隔离观察 7 天，不可出行；红码需隔离 14 天或接受治疗，不可出行。

4. 推广方式：

+ 通过新闻等传媒让民众深切感受到病毒的危险增加民众对健康码申报的自主积极性，自下而上地推广健康码。

+ 政府下发文件让各个场所及关口设立健康码检查站禁止没有绿色健康码的人通过，从而强制性确保每一个有过出行的人都已申报健康码且得到控制。

 

#### 优势与劣势

##### 优势

1. 管控严格有效，对病毒扩散起到了较好的控制效果。对所有数据的集中掌控与管理，对持有不同颜色健康码的人群的严格分类与对待，有效抑制了病毒扩散。

2. 推广踏实高效。近乎强制的推广方式让人手一码成为必然，由下而上的方式也更快让健康码普及。

##### 劣势

1. 对个人信息特别是行程信息有较多的采集，大量的隐私信息集中于中央数据库，个人隐私保护上存在难度。
2. 仅凭是否进入同一场所或所在地区防控等级判断颜色过于笼统且比起美版健康码的直接判断效率较低。

### 谷歌&苹果方案

#### 功能概述

  一种用于接触追踪的蓝牙协议，在几乎完全确保用户隐私的前提下记录用户的密切接触史，并在收到用户的确诊报告时通知所有在一段时间内与该用户有密切接触的用户。

#### 具体机制

##### 获取用户接触史

  每个用户的手机都会定时通过蓝牙广播一段字符串，该字符串具有随机性、唯一性并会定时改变。用户的手机中会储存一段时间内广播的字符串。同时，用户的手机还会持续开启接受功能，并记录收到的其他用户手机广播的字符串以及发送距离、持续时间等相关信息。这些信息同样会被储存下来。根据上文需求分析中的流行病学部分，蓝牙的传输距离足以确定密切接触行为是否发生。

##### 告知用户接触风险

  当有用户被确认为新冠病毒感染者时，该用户可以选择将该信息报告给服务器。服务器将获取储存在该用户设备上的最近广播过的字符串，并发送给所有用户用于和他们手机上储存的最近接收到的字符串对比。如果发现有相同的字符串，则说明发生过密切接触，此时程序就会发出提示警告用户。

##### 隐私保护

  由于所有发送的字符串都是随机生成并且频繁改变的，所以通过字符串来获取用户个人信息或者追踪用户的难度极高。当用户确诊时，用户确诊这一信息需要用户本人同意才会上传至服务器；同时字符串的随机性使得任何人都无法得知该用户的真实身份。在使用过程中，用户还可以可以随时选择关闭该服务。

#### 推广方式

  苹果和谷歌计划将相关应用发布在Google play 商店和 app store 中，然而截至目前（7.12），上述应用市场中并无相关应用上架。
  苹果和谷歌的进一步是将该接触追踪功能置入手机操作系统层面，进而实现在iOS和安卓系统更新时自动实现接触追踪。

### 纸质码  //TO DO
## 现有健康码系统的整合方式 //TO DO

## 新接入国家和地区的技术选择建议
对于新接入国家和地区的健康码方案，有两个基本要求。第一，符合当地情况，没有太大的推广上的障碍；第二，收集的信息能满足上文整合部分的最小信息。于是，针对情况不同的国家和地区，我们设计了不同的方案。
### 分散式 （应用于硬件条件好，人民隐私概念强的国家） // TO DO
### 纸质 （应用于硬件条件不足的欠发达国家） // TO DO
## 个人信息保护问题 // TO DO
集中式和纸质码都无法避免地会采集用户信息，所以信息保护就只能靠官方机构的严格保密。这点可以从法律上约束，但仍有风险。而分散式健康码则可以做到几乎完全不暴露用户隐私：

### 数据传输过程中的信息保护//TODO

